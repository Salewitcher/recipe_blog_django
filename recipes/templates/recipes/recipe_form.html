{% extends "base.html" %}

{% block content %}
<div class="container my-4">
    <h2 class="mb-4">{% if form.instance.pk %}Edit Recipe{% else %}Create a New Recipe{% endif %}</h2>

    <form method="post" enctype="multipart/form-data" id="recipeForm">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn btn-success mt-3">Save Recipe</button>
    </form>
</div>

<script>
    document.getElementById('recipeForm').addEventListener('submit', function(event) {
        const title = document.getElementById('id_title').value;
        const ingredients = document.getElementById('id_ingredients').value;
        const instructions = document.getElementById('id_instructions').value;

        if (!title || !ingredients || !instructions) {
            event.preventDefault();
            alert('Please fill in all required fields.');
        }
    });
</script>
{% endblock %}
